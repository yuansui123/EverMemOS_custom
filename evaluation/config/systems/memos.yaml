# Memos System Configuration

name: "memos"
version: "1.0"
description: "Memos"

adapter: "memos"

# Memos API configuration
api_url: "${MEMOS_ONLINE_URL}"
api_key: "${MEMOS_KEY}"
batch_size: 10  # 每批次发送的消息数量（默认）
max_retries: 5

# Dataset-specific overrides
# 针对特定数据集的配置覆盖
dataset_overrides:
  longmemeval:
    batch_size: 5  # LongMemEval 数据量大，使用更小的 batch_size

# ⏰ Post-Add Wait: 等待后台索引构建完成
# Online API 系统通常是异步处理，需要时间构建索引
# 建议值：30-60 秒（根据数据量调整）
post_add_wait_seconds: 120  # 等待 120 秒后再开始 search

# Search configuration
search_mode: "fast"  # fast | accurate
include_preference: true  # Include user preferences in search results
pref_top_k: 6  # Number of top preferences to retrieve

# LLM configuration (for answer generation)
llm:
  provider: "openai"
  model: "openai/gpt-4.1-mini"
  api_key: "${LLM_API_KEY}"
  base_url: "${LLM_BASE_URL:https://openrouter.ai/api/v1}"
  temperature: 0
  max_tokens: 32768

# Search configuration
search:
  top_k: 20

# Answer configuration
answer:
  max_retries: 3

